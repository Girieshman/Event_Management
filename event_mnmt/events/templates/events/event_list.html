{% extends "base.html" %}
{% block title %}Event List{% endblock %}
{% block content %}
<h2>Upcoming Events</h2>

{% for event in events %}
  <div style="border: 1px solid #ddd; padding: 10px; margin-bottom: 10px; border-radius: 8px;">
    <h3>{{ event.name }}</h3>
    <p>Date: {{ event.date }}</p>
    <p>Location: {{ event.location }}</p>
    <p>{{ event.description }}</p>

    {% if event.id in registered_event_ids %}
      <button style="background: gray; color: white; border: none; padding: 8px 12px; border-radius: 5px;" disabled>
        Already Registered
      </button>
    {% else %}
      <form action="{% url 'register_event' event.id %}" method="post">
        {% csrf_token %}
        <button type="submit" style="background: #4CAF50; color: white; border: none; padding: 8px 12px; border-radius: 5px;">
          Register
        </button>
      </form>
    {% endif %}
  </div>
{% empty %}
  <p>No upcoming events.</p>
{% endfor %}
{% endblock %}
